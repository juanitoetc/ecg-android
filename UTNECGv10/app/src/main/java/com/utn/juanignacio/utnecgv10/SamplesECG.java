package com.utn.juanignacio.utnecgv10;

import java.io.Serializable;
import java.util.Arrays;

/**
 * Created by JuanIgnacio on 10/10/2015.
 */
public final class SamplesECG implements Serializable {

        public double fs;
        public int[] Samples;
        public double AVSS_mV = -3300;      //negative analogic reference to ground
        public double AVDD_mV = 3300;       //positive analogic reference to ground
        public double ADC_bits = 24;
        public double ADC_Amp = 6;

        public SamplesECG() {
                //instancia
                fs = 500;            //Frecuencia de muestreo
                //Muestras ejemplo creadas con ruido baja frecuencia (respiracion) y agregado de 50Hz
                Samples = new int[]{-594672,-594767,-595039,-595489,-595783,-596042,-595757,-595636,-595354,-595021,-594839,-594761,-594734,-595228,-595877,-596191,-595895,-595602,-595191,-595102,-594825,-594660,-594794,-595400,-595662,-595569,-595691,-595629,-595197,-594704,-594722,-594837,-594738,-595227,-595727,-595637,-595737,-595735,-595061,-594661,-594688,-594699,-594790,-595113,-595405,-595648,-595411,-595544,-595158,-594696,-594575,-594567,-594634,-595297,-595886,-595689,-595357,-595546,-595567,-595055,-594552,-594788,-594986,-595552,-595880,-595807,-596179,-596179,-595758,-595478,-595173,-595021,-595106,-595812,-596224,-596093,-596267,-596170,-595551,-595202,-595046,-594992,-595201,-595898,-596329,-596182,-596319,-596292,-595791,-595222,-595164,-595409,-595579,-596271,-596524,-596487,-596419,-596442,-595871,-595446,-595486,-595632,-595645,-596009,-596733,-596742,-596401,-596875,-596206,-595298,-595412,-595828,-596124,-596431,-596591,-596597,-596657,-596695,-596177,-595725,-595624,-595669,-595828,-596381,-596840,-596656,-596624,-596644,-596206,-595837,-595947,-595848,-596101,-596573,-596933,-596946,-596792,-596934,-596545,-596011,-596059,-596173,-596028,-596625,-597041,-596861,-596821,-596716,-596499,-595927,-595712,-595986,-596241,-596849,-597332,-597309,-597044,-596994,-596513,-596059,-595992,-596081,-596191,-596639,-597054,-597076,-597115,-597075,-596877,-596187,-595912,-596047,-596356,-596976,-597152,-597127,-597117,-597071,-596459,-596072,-595969,-596103,-595830,-596375,-597026,-596847,-596635,-596747,-596057,-595271,-594816,-594812,-594877,-595239,-595325,-595044,-594967,-594837,-594399,-594231,-593686,-593808,-594030,-594727,-595092,-594789,-594849,-594977,-594544,-594194,-594436,-594756,-594815,-595416,-596069,-596244,-596513,-596792,-596629,-596639,-596741,-596824,-596969,-597344,-597751,-597846,-597884,-597764,-597371,-596537,-596609,-596766,-596836,-597706,-598116,-597830,-597842,-597781,-597620,-597221,-597171,-597192,-597292,-597935,-598290,-598210,-598097,-598167,-597774,-597372,-597163,-596999,-596972,-597036,-597626,-597366,-596833,-595961,-594379,-592858,-591366,-589451,-587476,-585122,-582614,-582624,-584280,-582815,-579902,-579035,-582117,-586550,-590637,-594052,-595691,-596452,-596774,-596519,-595627,-594825,-595096,-595595,-596143,-596679,-596773,-596739,-597036,-597055,-596455,-595921,-596215,-596496,-596616,-597252,-597831,-597517,-597369,-597342,-596862,-596396,-596189,-596211,-596300,-596854,-597191,-597139,-597421,-597453,-596724,-596266,-596294,-596363,-596473,-597001,-597295,-597351,-597301,-597330,-596599,-596153,-596243,-596199,-596186,-596689,-597011,-597032,-596956,-596932,-596441,-595811,-595622,-595452,-595555,-596132,-596647,-596525,-596568,-596719,-596027,-595528,-595646,-595539,-595616,-595827,-596148,-596192,-595852,-595779,-595239,-594826,-594737,-594649,-594756,-595369,-595720,-595466,-595399,-595211,-594536,-594227,-594343,-593924,-593987,-594697,-594926,-594538,-594636,-594364,-593559,-593161,-592919,-592819,-592900,-593135,-593244,-593023,-593065,-592884,-592147,-591581,-591422,-591451,-591339,-591855,-591767,-591738,-591805,-591769,-591130,-590451,-590279,-590579,-590669,-591177,-591423,-591449,-591471,-591552,-591249,-590825,-590848,-591389,-591701,-592101,-592959,-593077,-593240,-593566,-593313,-593257,-593493,-593774,-594074,-595041,-595556,-595504,-596009,-596349,-595948,-595624,-595872,-596095,-596454,-597287,-597974,-598131,-597977,-598084,-597696,-597240,-597161,-597348,-597527,-598290,-598379,-598414,-598482,-598672,-598269,-597773,-597610,-597563,-598011,-598681,-598964,-598567,-598730,-598863,-598276,-597729,-597642,-597640,-597823,-598344,-598720,-598795,-598760,-598695,-598209,-597655,-597374,-597480,-597669,-598296,-598792,-598467,-598431,-598338,-597657,-597479,-597589,-597690,-597752,-598544,-598929,-598611,-598626,-598577,-598027,-597439,-597668,-597768,-597769,-598529,-598934,-598714,-598573,-598386,-597979,-597857,-597782,-597889,-597906,-598451,-598777,-598674,-598805,-598894,-598324,-597912,-597869,-598002,-598422,-598841,-598998,-598986,-599127,-599169,-598532,-598107,-598301,-598129,-598206,-599013,-599434,-599266,-599161,-599096,-598526,-598431,-598297,-598321,-598593,-599399,-599627,-599054,-599242,-599340,-599019,-598857,-598583,-598556,-598697,-599351,-599696,-599666,-599716,-599573,-599047,-598702,-598774,-598636,-598879,-599632,-599819,-599777,-599962,-599740,-599024,-598776,-598664,-598736,-598790,-599369,-599869,-599864,-599954,-599783,-599177,-599079,-599072,-598849,-599211,-599911,-600136,-600149,-600089,-599785,-599234,-598734,-598957,-598962,-599092,-599895,-600220,-600189,-600014,-599875,-599816,-599377,-599136,-599156,-599265,-599935,-600236,-600014,-600021,-600056,-599421,-599059,-599085,-599071,-599456,-600073,-600514,-600147,-600495,-600335,-599807,-599414,-599124,-599352,-599647,-600176,-600228,-600048,-600137,-600180,-599648,-599384,-599514,-599494,-599607,-600357,-600617,-600397,-600268,-600316,-599917,-599511,-599434,-599362,-599626,-600107,-600575,-600653,-600625,-600452,-599923,-599536,-599417,-599302,-599182,-599874,-600142,-600039,-600237,-600277,-599677,-599150,-598868,-598584,-598412,-599057,-599385,-599027,-598747,-598351,-597438,-597207,-597044,-596901,-597226,-597841,-597995,-598106,-598201,-598078,-597383,-597012,-597142,-597464,-597791,-598492,-599249,-599262,-599584,-599536,-598944,-598816,-598992,-599282,-599995,-600982,-601208,-601007,-600906,-601072,-600446,-599922,-600030,-600204,-600477,-601152,-601338,-601231,-601157,-601389,-600664,-600172,-600247,-600377,-600611,-601200,-601364,-601334,-601491,-601407,-600719,-600416,-600628,-600664,-600793,-601061,-600907,-600633,-600814,-600870,-599718,-598373,-597177,-595847,-594313,-593004,-591061,-587663,-584897,-585153,-585601,-583452,-581078,-581168,-584770,-589969,-594937,-597572,-598637,-599389,-599010,-598426,-598051,-598221,-598846,-599932,-600159,-599852,-600165,-600243,-599707,-599436,-599414,-599526,-600002,-600724,-601059,-601007,-600846,-600841,-600402,-600091,-600082,-599882,-600272,-601021,-601452,-601121,-601031,-600939,-600417,-600101,-600001,-600128,-600114,-600457,-600634,-600692,-600884,-600675,-599981,-599541,-599567,-599788,-600166,-600719,-600762,-600617,-600747,-600656,-600043,-599407,-599291,-599389,-599807,-600367,-600599,-600516,-600541,-600350,-599728,-599449,-599474,-599419,-599492,-599944,-600162,-600236,-600360,-600228,-599747,-599013,-598638,-598768,-599039,-599633,-599857,-599547,-599397,-599298,-598682,-598316,-598051,-597865,-598252,-598867,-598758,-598682,-598718,-598469,-597683,-597177,-597131,-597174,-597091,-597441,-597570,-597229,-597410,-597137,-596190,-595702,-595671,-595674,-595857,-596459,-596185,-595573,-595762,-595934,-595191,-594245,-594236,-594704,-594625,-595149,-595482,-595492,-595524,-595437,-594932,-594471,-594652,-594977,-595251,-595862,-596371,-596384,-596672,-596994,-596603,-596506,-596821,-597205,-597469,-598282,-598874,-598916,-598954,-599299,-599179,-599025,-599329,-599441,-600258,-600969,-601362,-601499,-601644,-601701,-601257,-600762,-600815,-600975,-601511,-602193,-602347,-602365,-602580,-602341,-602012,-601624,-601521,-601487,-601632,-602197,-602498,-602435,-602489,-602522,-602026,-601794,-601846,-601952,-602038,-602466,-602609,-602528,-602665,-602607,-602002,-601556,-601551,-601396,-601503,-602242,-602398,-602466,-602578,-602550,-602054,-601617,-601674,-601685,-601901,-602617,-602969,-602640,-602304,-602223,-601922,-601722,-601656,-601442,-601667,-602428,-602740,-602615,-602497,-602287,-601839,-601513,-601595,-601402,-601666,-602433,-602629,-602659,-602814,-602661,-602096,-601698,-601627,-601957,-602164,-602924,-603134,-602926,-602989,-603169,-602686,-602031,-602023,-602032,-602302,-602877,-603229,-603259,-603241,-603152,-602507,-602106,-602161,-602147,-602690,-603032,-603222,-603304,-603533,-603217,-602346,-602195,-602417,-602361,-602578,-603309,-603367,-603387,-603827,-603310,-602582,-602386,-602465,-602472,-602761,-603576,-603779,-603668,-603610,-603483,-602763,-602456,-602584,-602572,-602922,-603519,-603766,-603566,-603804,-603703,-603074,-602954,-603255,-602880,-603114,-603729,-603917,-604164,-603949,-603729,-603300,-603103,-603015,-602888,-603121,-603619,-603875,-604122,-603984,-603697,-603307,-603194,-603016,-603102,-603538,-603991,-604089,-603955,-604413,-603930,-603186,-602911,-603154,-603319,-603589,-603982,-604219,-604271,-604276,-604111,-603521,-603413,-603531,-603500,-603474,-604084,-604355,-604160,-604144,-604272,-603533,-603046,-603146,-603363,-603593,-604174,-604282,-604225,-604359,-604262,-603759,-603264,-603481,-603526,-603737,-604156,-604303,-604421,-604667,-604382,-603460,-603412,-603446,-603438,-603760,-603828,-603842,-604039,-604409,-604473,-603563,-602869,-602691,-602539,-602589,-603109,-603071,-602793,-602304,-601762,-601089,-601043,-601067,-601054,-601329,-602027,-602065,-602042,-602085,-601983,-601391,-601048,-601131,-601276,-601926,-602682,-603212,-603236,-603538,-603694,-603078,-603018,-603175,-603686,-604378,-604938,-605079,-605003,-605232,-604949,-604357,-604208,-604354,-604322,-604612,-605279,-605409,-605171,-605326,-605180,-604750,-604473,-604339,-604334,-604605,-605257,-605576,-605311,-605259,-605283,-605022,-604664,-604672,-604591,-604722,-605074,-605006,-604771,-604497,-603847,-602126,-600418,-599307,-597542,-595917,-594070,-590792,-589129,-590509,-590501,-587667,-585795,-587154,-590881,-596140,-600966,-602814,-603521,-604129,-603860,-602847,-602291,-602464,-603054,-603640,-604243,-604414,-604242,-604374,-604394,-603949,-603862,-603853,-604091,-604620,-604997,-605026,-605157,-604932,-604889,-604642,-604231,-604103,-604073,-604582,-605010,-605275,-605188,-605175,-605091,-604434,-603972,-604184,-604133,-604240,-605075,-605105,-604879,-604991,-604774,-604096,-603859,-603844,-603802,-604159,-604529,-604992,-604859,-605007,-604771,-604270,-603966,-603727,-603657,-604069,-604780,-604646,-604266,-604297,-604143,-604087,-603436,-602974,-603316,-603691,-604083,-604311,-604020,-604075,-603867,-603502,-602907,-602912,-602867,-602925,-603468,-603723,-603654,-603642,-603274,-602477,-602229,-602279,-602124,-602171,-602722,-602922,-602512,-602391,-602209,-601522,-601182,-600994,-600544,-600981,-601694,-601530,-601024,-601197,-600752,-599975,-599621,-599269,-599596,-599848,-600184,-600103,-599926,-599803,-599575,-598845,-598512,-598821,-598647,-599007,-599558,-599764,-599939,-599888,-599497,-599174,-599131,-599147,-599141,-599571,-600529,-601083,-601207,-601530,-601402,-601261,-601612,-601704,-601832,-602739,-603387,-603600,-603957,-604391,-604222,-603852,-603681,-603906,-604359,-604671,-605644,-605937,-606219,-606614,-606180,-605716,-605606,-605536,-605549,-605967,-606672,-606806,-606876,-607077,-606759,-606067,-606030,-606086,-606001,-606452,-607041,-607138,-607062,-607172,-606945,-606334,-606037,-606054,-606097,-606338,-606872,-607336,-607022,-607242,-606977,-606369,-606094,-606136,-606101,-606488,-607079,-606943,-606935,-607188,-607017,-606330,-606058,-605868,-605906,-606394,-606719,-606714,-606992,-607151,-607059,-606711,-606267,-605990,-606130,-606675,-607063,-607384,-607149,-607198,-607093,-606786,-606080,-606007,-606137,-606641,-607461,-607478,-607716,-607631,-607307,-606771,-606277,-606291,-606614,-606891,-607525,-607709,-607572,-607585,-607499,-606996,-607056,-607001,-606597,-607140,-607947,-607743,-607590,-607658,-607439,-606951,-606821,-606705,-606917,-607476,-607989,-608051,-607915,-607990,-607821,-607504,-607003,-606821,-606847,-607497,-608327,-608366,-608278,-608244,-608030,-607584,-607493,-607543,-607328,-607678,-608555,-608690,-608631,-608550,-608471,-607787,-607561,-607582,-607286,-607771,-608666,-608643,-608366,-608547,-608594,-608002,-607674,-607558,-607542,-608087,-609041,-608767,-608517,-608732,-608539,-607981,-607780,-607676,-607884,-608625,-608934,-608944,-608719,-608837,-608461,-607832,-607724,-608071,-608122,-608484,-609016,-609141,-609181,-608904,-608654,-608339,-608166,-607968,-608219,-608627,-609178,-608926,-608892,-608904,-608479,-607935,-607847,-607851,-607601,-608197,-608676,-608887,-608654,-607899,-607719,-607230,-606854,-606409,-606096,-606225,-606491,-606903,-607105,-606902,-606435,-606079,-605809,-605790,-605796,-606293,-606809,-606984,-607052,-607340,-607026,-606534,-606696,-606807,-606541,-607130,-607937,-608464,-608544,-609155,-609318,-609007,-608813,-608935,-608949,-609205,-609826,-609659,-609559,-609897,-609501,-608955,-609111,-609220,-609050,-609506,-609707,-610033,-609993,-610348,-609976,-609454,-609212,-609294,-609342,-609629,-610157,-610211,-610285,-610317,-609536,-608493,-608247,-608502,-608391,-608424,-607681,-606809,-605705,-604604,-602825,-600516,-598359,-596716,-597560,-599318,-598257,-595816,-594909,-597775,-601037,-604484,-606894,-607970,-608356,-608900,-609387,-609103,-608923,-609036,-608887,-608728,-608547,-608269,-608124,-608506,-609352,-609638,-609286,-609614,-609487,-609044,-608632,-608726,-609056,-609224,-609595,-609604,-609597,-609742,-609507,-609012,-608864,-608771,-608615,-609047,-609602,-609760,-609493,-609454,-609174,-608488,-608406,-608722,-608674,-608994,-609495,-609584,-609784,-609888,-609311,-608477,-608285,-608512,-608428,-608742,-609067,-609067,-609149,-609319,-608896,-608217,-607822,-607944,-608087,-608246,-608732,-608649,-608671,-608894,-608523,-607905,-607509,-607192,-607496,-608354,-608246,-608107,-608274,-608406,-607917,-607015,-606869,-606838,-606593,-607291,-607727,-607686,-607311,-607404,-606901,-606085,-605936,-605881,-605926,-606162,-606622,-606282,-606209,-606370,-605749,-604972,-604727,-604557,-604435,-604879,-605318,-605000,-604755,-604634,-604215,-603444,-603274,-603199,-603026,-603590,-604153,-604057,-603844,-603841,-603518,-602895,-602729,-602950,-603140,-603881,-604187,-604216,-604212,-604424,-604517,-604212,-604165,-604612,-605306,-606096,-606702,-606752,-607139,-607449,-607266,-606825,-606850,-607326,-607558,-608456,-609301,-609584,-610038,-610104,-609890,-609127,-609136,-609431,-609695,-610091,-610577,-610789,-611104,-611005,-610659,-610238,-610049,-610062,-610339,-610834,-611182,-611207,-611069,-611182,-610984,-610540,-610151,-610352,-610401,-610806,-611162,-611197,-611364,-611180,-610718,-610436,-610372,-610136,-609938,-610723,-611299,-611340,-611302,-611179,-610715,-610151,-609955,-610061,-610284,-610751,-611324,-611366,-611101,-610997,-610826,-610406,-610305,-610281,-610340,-610660,-611331,-611326,-611356,-611501,-611191,-610624,-610353,-610380,-610496,-610750,-611131,-611196,-611181,-611416,-611209,-610729,-610466,-610432,-610995,-611632,-611579,-611803,-611653,-611569,-610944,-610553,-610630,-610744,-610699,-611167,-611925,-611794,-611674,-611775,-611589,-610793,-610502,-610901,-611007,-611431,-611997,-612021,-611956,-612054,-611579,-611108,-611084,-610994,-611144,-611532,-612059,-612185,-611985,-612179,-611831,-610981,-610885,-611270,-611291,-611751,-611962,-612064,-612296,-612269,-612003,-611212,-611157,-611262,-611341,-611829,-612471,-612349,-612207,-612304,-611889,-611566,-611547,-611359,-611484,-612012,-612451,-612487,-612324,-612337,-611979,-611401,-611446,-611307,-611292,-611767,-612408,-612344,-612257,-612313,-611783,-610975,-610836,-611048,-611184,-611647,-612174,-612161,-611969,-611809,-611158,-610296,-610378,-609801,-609486,-609976,-610302,-610044,-610241,-610389,-609797,-609130,-609019,-609189,-609343,-609538,-609994,-610188,-610402,-610972,-610745,-610181,-610009,-610037,-610041,-610742,-611539,-611789,-611986,-612448,-612557,-612204,-611935,-612042,-612076,-612496,-612821,-613086,-612941,-612811,-612511,-612306,-612037,-612046,-612365,-613213,-613359,-613296,-613117,-613277,-612981,-612352,-612246,-612400,-612554,-613231,-613536,-613499,-613495,-613502,-612986,-612171,-611593,-611442,-611534,-612137,-611958,-610711,-609996,-608971,-607174,-605046,-603264,-601361,-599770,-601051,-602594,-601212,-599069,-598198,-600137,-603423,-606939,-609557,-610568,-611682,-612421,-612663,-612194,-611857,-611437,-611396,-611536,-611631,-611491,-611764,-612199,-612496,-612644,-611764,-612199,-612496,-612644};
        }

        public SamplesECG(int[] muestras) {

                fs = 500;            //Frecuencia de muestreo
                Samples = new int[muestras.length];
                Samples = muestras;
        }

        public String getSamplesInString (int[] muestras){

            String str_samples = Arrays.toString(muestras);
            return str_samples;
        }

        public String[] getSamplesInMatrix(String muestras){

            String s[] = muestras.split(",");

            return s;
    }

    public int[] getSamplesInIntArray (String[] s){

        /*La primera y la ultima muestra tienen los caracteres [], hay que sacarlos*/
        int[] recup = new int[s.length];

        for(int curr = 0; curr<s.length; curr++)
        {
            /*Elimino el primer simbolo extranio que es [*/
            if(curr == 0) {
                recup[0] = Integer.parseInt(s[0].substring(1));
            }
            else if (curr == (s.length)-1){
                    /*Elimino el ultimo simbolo extranio ]*/
                recup[curr] = Integer.parseInt(s[curr].substring(1,s[curr].length()-1));
            }
            else {
                    /*Atencion, al hacer el plit tambien me guarda los espacios*/
                recup[curr] = Integer.parseInt(s[curr].substring(1, s[curr].length()));
            }
        }

        return recup;
    }

    public double[] getSamplesInmV(int[] samp_int) {

        double[] sam_mV = new double[samp_int.length];
        int i = 0;
        double rangeADCmV = AVDD_mV - AVSS_mV;  //rango dinamico de tension del adc
        double steps = java.lang.Math.pow(2, ADC_bits);

        for(i=0;i<samp_int.length;i++){
            sam_mV[i] = (double) ((samp_int[i]*rangeADCmV)/(steps))/(ADC_Amp);
        }
        return sam_mV;
    }
}